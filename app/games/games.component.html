<!--
The template defines the view of the component - what is actually rendered.
In NativeScript applications the template is defined with XML using NativeScript UI elements.
It is different from HTML. So instead of <input>, <span>, <div> etc. - we have <TextField>, <Label> and layouts.
The important thing is that although the elements are different - all of the Angularâ€™s template syntax works exactly the same.
So you can still use template expressions, bindings, templates as well as all the built-in directives.
-->

<ActionBar title="Money Making Games" class="action-bar"></ActionBar>
<DockLayout class="page">
    <FlexboxLayout class="m-15" orientation="horizontal" dock="top">
        <Label text="Available amount" class="p-t-15" width="40%"></Label>
        <TextField class="input input-border" [(ngModel)]="availableAmount" keyboardType="number" width="25%"></TextField>
        <Label text="DKK" class="p-t-15" width="25%"></Label>
        <Image src="~/images/refresh.png" (tap)="refresh()" width="10%" height="25"></Image>
    </FlexboxLayout>
    <FlexboxLayout class="m-15" orientation="horizontal" dock="bottom">
        <Label text="No games" class="p-t-15" width="25%" textAlignment="left"></Label>
        <TextField class="input input-border" text-align="right" [(ngModel)]="minutes" keyboardType="number" width="25%"></TextField>
    </FlexboxLayout>

    <ActivityIndicator [busy]="downloading" [visibility]="downloading ? 'visible' : 'collapse'" 
        horizontalAlignment="center" verticalAlignment="center"></ActivityIndicator>
        
    <ListView [items]="games" class="list-group">
        <ng-template let-item="item">
            <FlexboxLayout class="m-15 list-group-item" [nsRouterLink]="['/game', item.gameLink]" justifyContent="center">
                <Label [text]="item.homeTeam" width="40%"></Label>
                <Label [text]="item.awayTeam" width="40%"></Label>
                <Label [text]="item.date|date:'HH:mm'" width="20%" textAlignment="right"></Label>
            </FlexboxLayout>
        </ng-template>
    </ListView>
</DockLayout>
